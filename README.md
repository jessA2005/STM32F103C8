Simulation Video: https://github.com/user-attachments/assets/c6240421-d996-481e-9ba3-cd130fe17f8f
The code ensures that the LED on PA13 toggles only once on every button press (PA10), even if the user keeps the button down, and avoids the “bouncing” effect, where the button doesn’t act ideally, and the mechanical motion results in a contact bounce that therefore creates a jitter in the input voltage signal.
Here, I used the State tracking and edge detection method for button control. I made a global variable called “prevv_button_state”, which holds the state of the button during the last loop iteration. When released, it’s initialized to 1, to match the initial state of the “PULLUP” resistor. At the moment of pressing, the toggle only happens if the button is currently pressed AND the button was previously released. This logic allows us to check for the falling edge at the instant the button state changes from released to pressed. The delay here is essential for debouncing.
